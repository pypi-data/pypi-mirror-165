# AUTOGENERATED! DO NOT EDIT! File to edit: ../03_cmd.ipynb.

# %% auto 0
__all__ = []

# %% ../03_cmd.ipynb 2
import os
from tqdm import tqdm

# %% ../03_cmd.ipynb 3
from .utils import av_download,av_recommend,get_name
from .args import get_args


# %% ../03_cmd.ipynb 4
def _main():
    args = get_args()
    if args.urls is None:
        urls = av_recommend(args.vtype)
    else:
        urls = urls
    print('Total download urls: ', len(urls))
    for url in tqdm(urls,desc='Downloading ...'):
        if os.path.exists(f'{args.outdir}/{get_name(url)}/{get_name(url)}.mp4'):
            print("Have downloaded ", get_name(url))
        else:
            print("Downloading ", get_name(url))
            av_download(url, directory=args.outdir,max_workers=args.threads)
