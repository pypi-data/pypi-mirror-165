(()=>{"use strict";var e={925:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" width="100%" height="100%"><path xmlns="http://www.w3.org/2000/svg" d="m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"></path></svg>'},668:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default='<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-zoom-in" viewBox="0 0 16 16" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" width="100%" height="100%"><path xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"></path><path xmlns="http://www.w3.org/2000/svg" d="M10.344 11.742c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1 6.538 6.538 0 0 1-1.398 1.4z"></path><path xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" d="M6.5 3a.5.5 0 0 1 .5.5V6h2.5a.5.5 0 0 1 0 1H7v2.5a.5.5 0 0 1-1 0V7H3.5a.5.5 0 0 1 0-1H6V3.5a.5.5 0 0 1 .5-.5z"></path></svg>'},145:function(e,t,i){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.renderPreview=void 0;const n=r(i(925)),l=r(i(668));t.renderPreview=function(e,t,i){const r=document.createElement("div");r.classList.add("iuw-image-preview");const a=document.createElement("img");if(a.src=e,r.appendChild(a),t){const e=document.createElement("span");e.classList.add("iuw-delete-icon"),e.innerHTML=n.default,r.appendChild(e)}if(i){const e=document.createElement("span");e.classList.add("iuw-preview-icon"),t||e.classList.add("iuw-only-preview"),e.innerHTML=l.default,r.appendChild(e)}return r}},361:function(e,t,i){var r=this&&this.__createBinding||(Object.create?function(e,t,i,r){void 0===r&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){void 0===r&&(r=i),e[r]=t[i]}),n=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||r(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),n(i(145),t)},916:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewModal=void 0,t.PreviewModal={openPreviewModal:()=>{const e=document.getElementById("iuw-modal-element");e&&setTimeout((()=>{e.classList.add("visible"),e.classList.remove("hide"),document.body.style.overflow="hidden"}),50)},closePreviewModal:()=>{document.body.style.overflow="auto";const e=document.getElementById("iuw-modal-element");e&&(e.classList.remove("visible"),e.classList.add("hide"),setTimeout((()=>{var t;null===(t=e.parentElement)||void 0===t||t.removeChild(e)}),300))},onModalClick:e=>{e&&e.target&&e.target.closest("img.iuw-modal-image-preview-item")||t.PreviewModal.closePreviewModal()},createPreviewModal:e=>{e.className="",e.classList.add("iuw-modal-image-preview-item");const i=document.createElement("div");i.id="iuw-modal-element",i.classList.add("iuw-modal","hide"),i.addEventListener("click",t.PreviewModal.onModalClick);const r=document.createElement("div");return r.classList.add("iuw-modal-image-preview"),r.innerHTML='<span class="iuw-modal-close"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" width="100%" height="100%"><path xmlns="http://www.w3.org/2000/svg" d="m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"></path></svg></span>',r.appendChild(e),i.appendChild(r),document.body.appendChild(i),i}}},965:function(e,t,i){var r=this&&this.__createBinding||(Object.create?function(e,t,i,r){void 0===r&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){void 0===r&&(r=i),e[r]=t[i]}),n=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||r(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),n(i(916),t)},678:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ImageUploaderWidget=void 0;const r=i(965),n=i(361);t.ImageUploaderWidget=class{constructor(e){this.canDelete=!1,this.dragging=!1,this.canPreview=!0,this.raw=null,this.file=null,this.performDeleteImage=e=>{var t;null===(t=null==e?void 0:e.parentElement)||void 0===t||t.removeChild(e),this.checkboxInput&&(this.checkboxInput.checked=!0),this.fileInput.value="",this.file=null,this.raw=null,this.renderWidget()},this.performPreviewImage=e=>{let t=null==e?void 0:e.querySelector("img");t&&(t=t.cloneNode(!0),r.PreviewModal.createPreviewModal(t),r.PreviewModal.openPreviewModal())},this.onEmptyMarkerClick=()=>{this.fileInput.click()},this.onDrop=e=>{var t;e.preventDefault(),this.dragging=!1,this.element.classList.remove("drop-zone"),(null===(t=e.dataTransfer)||void 0===t?void 0:t.files.length)&&(this.fileInput.files=e.dataTransfer.files,this.file=this.fileInput.files[0],this.raw=null,this.renderWidget())},this.onDragEnter=()=>{this.dragging=!0,this.element.classList.add("drop-zone")},this.onDragOver=e=>{e&&e.preventDefault()},this.onDragLeave=e=>{e.relatedTarget&&e.relatedTarget.closest(".iuw-root")===this.element||(this.dragging=!1,this.element.classList.remove("drop-zone"))},this.onFileInputChange=()=>{var e;(null===(e=this.fileInput.files)||void 0===e?void 0:e.length)&&(this.file=this.fileInput.files[0]),this.renderWidget()},this.onImagePreviewClick=e=>{if(e&&e.target){const t=e.target;if(t.closest(".iuw-delete-icon")){const e=t.closest(".iuw-image-preview");return this.performDeleteImage(e)}if(t.closest(".iuw-preview-icon")){const e=t.closest(".iuw-image-preview");return this.performPreviewImage(e)}}this.fileInput.click()},this.element=e;const t=e.querySelector("input[type=file]"),i=e.querySelector("input[type=checkbox]");if(!t)throw new Error("no-file-input-found");this.fileInput=t,this.checkboxInput=i,this.emptyMarker=e.querySelector(".iuw-empty"),this.canDelete="true"===e.getAttribute("data-candelete"),this.dragging=!1,this.fileInput.addEventListener("change",this.onFileInputChange),this.emptyMarker&&this.emptyMarker.addEventListener("click",this.onEmptyMarkerClick),this.element.addEventListener("dragenter",this.onDragEnter),this.element.addEventListener("dragover",this.onDragOver),this.element.addEventListener("dragleave",this.onDragLeave),this.element.addEventListener("dragend",this.onDragLeave),this.element.addEventListener("drop",this.onDrop),this.raw=e.getAttribute("data-raw"),this.file=null,this.renderWidget()}updateCheckBoxAndEmptyState(){this.file||this.raw?(this.element.classList.add("non-empty"),this.checkboxInput&&(this.checkboxInput.checked=!1)):(this.element.classList.remove("non-empty"),this.checkboxInput&&(this.checkboxInput.checked=!0))}renderWidget(){if(this.updateCheckBoxAndEmptyState(),Array.from(this.element.querySelectorAll(".iuw-image-preview")).forEach((e=>this.element.removeChild(e))),this.file){const e=URL.createObjectURL(this.file);this.element.appendChild((0,n.renderPreview)(e,this.canDelete,this.canPreview))}else this.raw&&this.element.appendChild((0,n.renderPreview)(this.raw,this.canDelete,this.canPreview));Array.from(this.element.querySelectorAll(".iuw-image-preview")).forEach((e=>e.addEventListener("click",this.onImagePreviewClick)))}}},829:function(e,t,i){var r=this&&this.__createBinding||(Object.create?function(e,t,i,r){void 0===r&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){void 0===r&&(r=i),e[r]=t[i]}),n=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||r(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),n(i(678),t)}},t={};function i(r){var n=t[r];if(void 0!==n)return n.exports;var l=t[r]={exports:{}};return e[r].call(l.exports,l,l.exports,i),l.exports}(()=>{const e=i(829);document.addEventListener("DOMContentLoaded",(()=>{Array.from(document.querySelectorAll(".iuw-root")).map((t=>new e.ImageUploaderWidget(t))),window&&window.django&&window.django.jQuery&&(0,window.django.jQuery)(document).on("formset:added",((t,i)=>{i&&i.length||(i=[t.target]),i&&i.length&&Array.from(i[0].querySelectorAll(".iuw-root")).map((t=>new e.ImageUploaderWidget(t)))}))}))})()})();