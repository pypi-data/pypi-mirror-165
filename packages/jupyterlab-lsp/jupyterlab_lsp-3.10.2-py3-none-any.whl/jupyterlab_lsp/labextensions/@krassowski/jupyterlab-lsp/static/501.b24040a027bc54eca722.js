"use strict";(self.webpackChunk_krassowski_jupyterlab_lsp=self.webpackChunk_krassowski_jupyterlab_lsp||[]).push([[501],{9258:(e,t,n)=>{n.d(t,{Z:()=>i});var l=n(2609),s=n.n(l)()((function(e){return e[1]}));s.push([e.id,".lsp-completer-themes .lsp-licence {\n  display: inline;\n}\n\n.lsp-completer-themes ul {\n  list-style: none;\n  padding-left: 10px;\n}\n\n.lsp-completer-theme-icons {\n  margin-left: 10px;\n}\n\n.lsp-completer-icon-row {\n  width: 50%;\n  display: flex;\n  justify-content: space-between;\n}\n\n/* a workaround for scrollbars being always on in the completer documentation panel, see\n https://github.com/jupyter-lsp/jupyterlab-lsp/pull/322#issuecomment-682724175\n */\n.lsp-completer .jp-Completer-docpanel {\n  overflow: auto;\n}\n\n.lsp-completer.jp-Completer {\n  --lsp-completer-max-label-width: 300px;\n  --lsp-completer-max-detail-width: 200px;\n}\n\n.lsp-completer .jp-Completer-match {\n  max-width: var(--lsp-completer-max-label-width);\n  overflow-x: hidden;\n  white-space: nowrap;\n  display: block;\n  text-overflow: ellipsis;\n}\n\n.lsp-completer .jp-mod-active .jp-Completer-match {\n  text-overflow: clip;\n}\n\n.lsp-completer-placeholder:after {\n  content: 'Loading...';\n  color: #7f7f7f;\n}\n\n/* a workaround for code being larger font size than text in markdown-rendered panel */\n.lsp-completer .jp-Completer-docpanel pre code {\n  font-size: 90%;\n}\n\nbody[data-lsp-completer-layout='detail-below'] .jp-Completer-item {\n  --lsp-completer-label-height: 24px;\n  --lsp-completer-detail-height: 20px;\n  --lsp-completer-icon-width: 16px;\n  height: var(--lsp-completer-label-height);\n  display: grid;\n  grid-template-areas:\n    'icon label'\n    'detail detail';\n  grid-template-columns: min-content 1fr;\n}\n\nbody[data-lsp-completer-layout='detail-below']\n  .jp-Completer-item.jp-mod-active {\n  height: calc(\n    var(--lsp-completer-detail-height) + var(--lsp-completer-label-height)\n  );\n}\n\nbody[data-lsp-completer-layout='detail-below'] .jp-Completer-icon {\n  grid-area: icon;\n  width: var(--lsp-completer-icon-width);\n}\n\nbody[data-lsp-completer-layout='detail-below'] .jp-Completer-match {\n  grid-area: label;\n  overflow: hidden;\n  height: var(--lsp-completer-label-height);\n}\n\n.lsp-completer .jp-Completer-item .jp-Completer-typeExtended {\n  max-width: var(--lsp-completer-max-detail-width);\n  min-height: 50px;\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.lsp-completer .jp-mod-active .jp-Completer-typeExtended {\n  text-overflow: clip;\n}\n\nbody[data-lsp-completer-layout='detail-below'] .jp-Completer-typeExtended {\n  grid-area: detail;\n  text-align: left;\n  padding-left: calc(var(--lsp-completer-icon-width) + 8px);\n  height: var(--lsp-completer-detail-height);\n  line-height: var(--lsp-completer-detail-height);\n  display: none;\n  position: relative;\n  top: -2px;\n  overflow: hidden;\n  max-width: calc(\n    var(--lsp-completer-max-label-width) + var(--lsp-completer-max-detail-width)\n  );\n}\n\nbody[data-lsp-completer-layout='detail-below'] .jp-Completer-match {\n  overflow: hidden;\n  max-width: calc(\n    var(--lsp-completer-max-label-width) + var(--lsp-completer-max-detail-width)\n  );\n}\n\nbody[data-lsp-completer-layout='detail-below']\n  .jp-Completer-item.jp-mod-active\n  .jp-Completer-typeExtended {\n  display: block;\n}\n",""]);const i=s},44:(e,t,n)=>{n.r(t),n.d(t,{COMPLETION_THEME_MANAGER:()=>u,CompletionThemeManager:()=>d});var l=n(6062),s=n.n(l),i=n(9258);s()(i.Z,{insert:"head",singleton:!1}),i.Z.locals;var r=n(1991),a=n(3082),o=n(8912),c=n(6271),p=n.n(c),m=n(5384);function h(e,t){let n=t.themes.map((n=>function(e,t,n,l){let s=[];for(let[e,l]of n(t))s.push(p().createElement("div",{className:"lsp-completer-icon-row"},p().createElement("div",null,e),p().createElement("div",{className:"jp-Completer-icon"},p().createElement(l.react,null))));return p().createElement("div",{className:"lsp-completer-themes "+m.wo+t.id},p().createElement("h4",null,t.name,l?e.__(" (current)"):""),p().createElement("ul",null,p().createElement("li",{key:"id"},"ID: ",p().createElement("code",null,t.id)),p().createElement("li",{key:"licence"},e.__("Licence: "),(i=t.icons.licence,p().createElement("div",{className:"lsp-licence"},p().createElement("a",{href:i.link,title:i.name},i.abbreviation)," ",i.licensor))),p().createElement("li",{key:"dark"},void 0===t.icons.dark?"":e.__("Includes dedicated dark mode icons set"))),p().createElement("div",{className:"lsp-completer-theme-icons"},s));var i}(e,n,t.get_set,n==t.current)));return p().createElement("div",null,n)}class d{constructor(e,t){this.themeManager=e,this.current_theme_id=null,this.themes=new Map,this.icons_cache=new Map,this.icon_overrides=new Map,e.themeChanged.connect(this.update_icons_set,this),this.trans=t}is_theme_light(){const e=this.themeManager.theme;return!e||this.themeManager.isLight(e)}get_iconset(e){var t,n;const l=e.icons,s=this.is_theme_light()||void 0===l.dark?l.light:l.dark,i=new Map;let r=(null===(n=null===(t=this.current_theme)||void 0===t?void 0:t.icons)||void 0===n?void 0:n.options)||{};const a=this.is_theme_light()?"light":"dark";for(let[t,n]of Object.entries(s)){let l,s="lsp:"+e.id+"-"+t.toLowerCase()+"-"+a;this.icons_cache.has(s)?l=this.icons_cache.get(s):(l=new o.LabIcon({name:s,svgstr:n}),this.icons_cache.set(s,l)),i.set(t,l.bindprops(r))}return i}update_icons_set(){null!==this.current_theme&&(this.current_icons=this.get_iconset(this.current_theme))}get_icon(e){return null===this.current_theme?null:(e&&(this.icon_overrides.has(e.toLowerCase())&&(e=this.icon_overrides.get(e.toLowerCase())),e=e.substring(0,1).toUpperCase()+e.substring(1).toLowerCase()),this.current_icons.has(e)?this.current_icons.get(e):e===m.OC?o.kernelIcon:null)}get current_theme_class(){return m.wo+this.current_theme_id}set_theme(e){this.current_theme_id&&document.body.classList.remove(this.current_theme_class),e&&!this.themes.has(e)&&console.warn(`[LSP][Completer] Icons theme ${e} cannot be set yet (it may be loaded later).`),this.current_theme_id=e,null!==e&&document.body.classList.add(this.current_theme_class),this.update_icons_set()}get current_theme(){return this.current_theme_id&&this.themes.has(this.current_theme_id)?this.themes.get(this.current_theme_id):null}register_theme(e){this.themes.has(e.id)&&console.warn("Theme with name",e.id,"was already registered, overwriting."),this.themes.set(e.id,e),this.update_icons_set()}display_themes(){(0,r.showDialog)({title:this.trans.__("LSP Completer Themes"),body:h(this.trans,{themes:[...this.themes.values()],current:this.current_theme,get_set:this.get_iconset.bind(this)}),buttons:[r.Dialog.okButton({label:this.trans.__("OK")})]}).catch(console.warn)}set_icons_overrides(e){this.icon_overrides=new Map(Object.keys(e).map((t=>[t.toLowerCase(),e[t]])))}}const u={id:m.Uu,requires:[r.IThemeManager,r.ICommandPalette,a.ITranslator],activate:(e,t,n,l)=>{const s=l.load("jupyterlab_lsp");let i=new d(t,s);const r="lsp:completer-about-themes";return e.commands.addCommand(r,{label:s.__("Display the completer themes"),execute:()=>{i.display_themes()}}),n.addItem({category:"Language server protocol",command:r}),i},provides:m.kZ,autoStart:!0}}}]);