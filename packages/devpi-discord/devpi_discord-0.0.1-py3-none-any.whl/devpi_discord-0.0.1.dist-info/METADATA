Metadata-Version: 2.1
Name: devpi-discord
Version: 0.0.1
Summary: Devpi plugin for sending Discord notifications
Home-page: http://github.com/innoteq/devpi-discord
Author: MoJoh
Author-email: cryptoweirdo@protonmail.com
License: MIT
Keywords: devpi discord notification
Platform: any
Classifier: Development Status :: 3 - Alpha
Classifier: Intended Audience :: System Administrators
Classifier: License :: OSI Approved :: MIT License
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Classifier: Topic :: Internet
License-File: LICENSE.txt
Requires-Dist: devpi-server (>=4.0.0)
Requires-Dist: requests (>=2.28.1)

devpi-discord: Discord notification plugin for devpi-server
===========================================================

Installation
------------

``devpi-discord`` needs to be installed alongside ``devpi-server``.

You can install it with::

    pip install devpi-discord

For ``devpi-server`` there is no configuration needed, as it will automatically discover the plugin through calling hooks using the setuptools entry points mechanism.

Configuration
-------------

devpi-discord can trigger Discord notifications upon package upload.

    devpi index /testuser/dev discord_hook=https://discord.com/api/webhooks/...

Environment Variables:

You can also pass environment variables to configure the plugin. Yes it can be more simplier but it's less secure and flexible be aware of that

- ``DISCORD_HOOK`` to adjust the Discord hook URL used. Defaults to the devpi discord_hook value above. (Note: discord_hook provided by devpi takes precedence. Setting both will default to the value specified in devpi)

Disable it !
------------

By removing the index configuration the plugin will not send any notification anymore:

    devpi index /testuser/dev discord_hook-=
