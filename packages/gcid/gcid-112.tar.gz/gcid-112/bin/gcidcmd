#!/usr/bin/env python3
# pylint: disable=E1101,E0611,C0116,C0115,C0413,R0903
# This file is placed in the Public Domain.


"gcid command"


import os
import sys


sys.path.insert(0, os.getcwd())


from gcid.client import Client
from gcid.parse import parse
from gcid.run import docmd
from gcid.scan import scan
from gcid.workdir import Wd


Wd.workdir = "/var/lib/gcid/"


from gcid import bsc, irc, log, rss, tdo


scan(bsc)
scan(irc)
scan(log)
scan(rss)
scan(tdo)


class CLI(Client):

    @staticmethod
    def raw(txt):
        print(txt)


def main():
    cfg = parse(" ".join(sys.argv[1:]))
    cli = CLI()
    docmd(cli, cfg.otxt)


main()
